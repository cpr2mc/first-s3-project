{% extends 'uploads/base.html' %}

{% block title %}My Files{% endblock %}

{% block content %}
    <h2>My Uploaded Files</h2>
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}

    {% if files %}
        <div class="file-list">
            {% for file in files %}
                <div class="file-item">
                    <a href="{{ file.file.url }}">{{ file.title }}</a>
                    <div class="file-date">uploaded on: {{ file.uploaded_at }}</div>
                    <!-- <div class="file-date">uploaded on: {{ file.uploaded_at|date:"F j, Y, g:i a" }}</div> -->
                </div>
                <div>
                    <a href="{% url 'delete_file' file.id %}" style="color:#dc3545;">
                        Delete
                    </a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>You haven't uploaded any files yet.</p>
    {% endif %}

    <div style="margin-top:20px;">
        <a href="{% url 'upload_file' %}">
            <button>Upload New File</button>
        </a>
    </div>
{% endblock %}